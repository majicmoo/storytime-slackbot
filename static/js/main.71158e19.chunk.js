(this["webpackJsonpstory-maker"]=this["webpackJsonpstory-maker"]||[]).push([[0],[,,,,,,,,,,function(t,e,n){t.exports=n(18)},,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(9),i=n.n(o),c=(n(15),n(1)),s=n(2),u=n(3),d=n(5),p=n(4),l=n(6),g=(n(16),function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(d.a)(this,Object(p.a)(e).call(this,t))).ref=Object(a.createRef)(),n.startDragging=function(t){n.ref.current&&n.setState({dragging:!0,relX:t.pageX-n.ref.current.offsetLeft,relY:t.pageY-n.ref.current.offsetTop})},n.stopDragging=function(){n.setState({dragging:!1})},n.drag=function(t){n.state.dragging&&n.setState({x:t.pageX-n.state.relX,y:t.pageY-n.state.relY})},n.state={x:t.x,y:t.y,dragging:!1,relX:0,relY:0},n}return Object(l.a)(e,t),Object(u.a)(e,[{key:"componentDidUpdate",value:function(t,e){this.state.dragging&&!e.dragging?(document.addEventListener("mousemove",this.drag),document.addEventListener("mouseup",this.stopDragging)):!this.state.dragging&&e.dragging&&(document.removeEventListener("mousemove",this.drag),document.removeEventListener("mouseup",this.stopDragging))}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,a=this.state,o=a.x,i=a.y;return r.a.createElement("div",{className:n,style:{left:"".concat(o,"px"),top:"".concat(i,"px")},onMouseDown:this.startDragging,ref:this.ref},e)}}]),e}(r.a.Component)),f=function(t){var e=t.node,n=t.updateNode,a=t.addOption,o=t.x,i=t.y;return r.a.createElement(g,{className:"node",x:o,y:i},r.a.createElement("input",{value:e.statement,onChange:function(t){return n(Object(c.a)({},e,{statement:t.target.value}))}}),r.a.createElement("p",null,e.type),r.a.createElement("button",{onClick:function(){return a(e.id)}},"Add Option"))},m=function(t){var e=t.option,n=t.updateOption,a=t.x,o=t.y;return r.a.createElement(g,{className:"option",x:a,y:o},r.a.createElement("input",{value:e.item,onChange:function(t){return n(Object(c.a)({},e,{item:t.target.value}))}}))},h=(n(17),function(t){var e=t.story,n=t.updateTitle,a=t.updateNode,o=t.updateOption,i=t.addOption;return r.a.createElement("div",null,r.a.createElement("input",{value:e.title,onChange:function(t){return n(t.target.value)}}),e.nodes.map((function(t,e){return r.a.createElement(f,{key:t.id,node:t,addOption:i,updateNode:a,x:e,y:e})})),e.options.map((function(t,e){return r.a.createElement(m,{option:t,key:t.id,updateOption:o,x:e,y:e})})))}),v=function(t){return r.a.createElement("div",null,r.a.createElement("p",null,JSON.stringify(t)))},y=n(7),O=n(22),b=n(21),j=function(t,e){var n=Object(O.a)(),a=t.options,r=t.nodes.find((function(t){return t.id===e})),o=Object(c.a)({},r,{optionIds:[].concat(Object(y.a)(r.optionIds),[n])}),i=[].concat(Object(y.a)(a),[{id:n,item:""}]);return Object(c.a)({},E(t,o),{options:i})},E=function(t,e){var n=t.nodes,a=n.findIndex((function(t){return t.id===e.id})),r=Object(b.a)(a,e,n);return Object(c.a)({},t,{nodes:r})},x=function(t,e){var n=t.options,a=n.findIndex((function(t){return t.id===e.id})),r=Object(b.a)(a,e,n);return Object(c.a)({},t,{options:r})},N=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(r)))).state={tab:"graph",story:{title:"",nodes:[{statement:"",type:"Normal",optionIds:[],id:"first-node"}],options:[]}},n.updateTab=function(t){return n.setState({tab:t})},n.updateTitle=function(t){return n.setState({story:Object(c.a)({},n.state.story,{title:t})})},n.updateNode=function(t){n.setState({story:E(n.state.story,t)})},n.addOption=function(t){n.setState({story:j(n.state.story,t)})},n.updateOption=function(t){n.setState({story:x(n.state.story,t)})},n}return Object(l.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this,e=this.state,n=e.tab,a=e.story;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"tab-switcher"},r.a.createElement("button",{onClick:function(){return t.updateTab("graph")}},"Graph"),r.a.createElement("button",{onClick:function(){return t.updateTab("json")}},"JSON")),"graph"===n&&r.a.createElement(h,{story:a,updateTitle:this.updateTitle,updateNode:this.updateNode,addOption:this.addOption,updateOption:this.updateOption}),"json"===n&&r.a.createElement(v,{story:a}))}}]),e}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.71158e19.chunk.js.map